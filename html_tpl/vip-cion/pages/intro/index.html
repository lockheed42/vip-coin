<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<meta id="eqMobileViewport" name="viewport" content="width=320, initial-scale=1, maximum-scale=1, user-scalable=no">
		<!-- 引入样式 -->
		<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
		<link rel="stylesheet" href="../../css/common.css">
		<title>介绍</title>
		<style>
			.content .common-width {
				position: relative;
				height: 100%;
			}
			
			.content img {
				width: 100%;
			}
			
			.el-tabs {
				margin-top: 10px;
			}
			
			.el-tabs__nav {
				display: flex;
				width: 100%;
			}
			
			.el-tabs .el-tabs__item {
				color: #fff;
				font-size: 16px;
				padding: 0px;
				flex: 1;
				text-align: center;
			}
			
			.el-tabs__active-bar {
				display: none;
			}
			
			.el-tabs__nav-wrap::after {
				display: none;
			}
			
			.el-tabs__item.is-active {
				background: #282830;
				color: #cbaa67;
				border-radius: 5px 5px 0px 0px;
			}
			
			.tab-content {
				position: absolute;
				width: 100%;
				border: 18px solid #282830;
				box-sizing: border-box;
				top: 50px;
				bottom: 70px;
				background: #282830;
				color: #999999;
				font-size: 13px;
				border-radius: 10px;
				overflow-y: auto;
			}
			
			.tab-content p {
				text-indent: 22px;
				line-height: 20px;
			}
			
			.tab-instro {
				border-radius: 0px 5px 5px 5px;
			}
			
			.tab-message {
				border-radius: 5px 0px 5px 5px;
			}
			
			.tab-content .c-title {
				color: #cbaa67;
				margin-bottom: 20px;
			}
			
			.tab-content .list {
				border-bottom: 1px dotted #999999;
				padding-bottom: 10px;
				margin-bottom: 20px;
			}
			
			.tab-content .list:last-child {
				margin-bottom: 0px;
			}
			
			.list .wrap-tips {
				display: flex;
				justify-content: space-between;
				margin-top: 20px;
			}
			
			.content .wrap-enter {
				position: absolute;
				width: 100%;
				bottom: 10px;
			}
			
			.list-detail .wrap-tips {
				display: flex;
				flex-direction: column;
				justify-content: flex-end;
				text-align: right;
			}
			
			.list-detail .wrap-tips span {
				margin-bottom: 5px;
			}
		</style>
	</head>

	<body>
		<div id="instro" class="wrap-page">
			<div class="title-bar">
				VIP-CION
			</div>
			<div class="content">
				<div class="common-width">
					<el-tabs v-model="activeName" @tab-click="handleClick">
						<el-tab-pane v-for="(name, path) in tabList" :label="name" :name="path"></el-tab-pane>
					</el-tabs>
					<div class="tab-content" :class="'tab-'+activeName" id="tabContent">
						<div v-if="activeName === 'instro'">
							<img :src="instro.picUrl">
							<p v-for="list in instro.content">
								{{ list }}
							</p>
						</div>
						<div v-if="(activeName === 'info') && (!detail.show)">
							<div class="list" v-for="list in info.content" @click="getDetail(list.id)">
								<div class="c-title" v-if="list.title"> {{ list.title }} </div>
								<div class=""> {{ list.sl_detail }}</div>
								<div class="wrap-tips">
									<span>
								{{ list.read_nums.name }} {{ list.read_nums.value  }}
							</span>
									<span>
								{{ list.current_date }}
							</span>
								</div>
							</div>
						</div>
						<div v-if="(activeName === 'message') && (!detail.show)">
							<div class="list" v-for="list in message.content" @click="getDetail(list.id)">
								<div class="c-title"> {{ list.title }} </div>
								<div class=""> {{ list.sl_detail }}</div>
								<div class="wrap-tips">
									<span>
								{{ list.read_nums.name }} {{ list.read_nums.value  }}
							</span>
									<span>
								{{ list.current_date }}
							</span>
								</div>
							</div>
						</div>
						<div class="list-detail" v-if="detail.show">
							<div class="c-title" v-if="detail.title"> {{ detail.title }} </div>
							<img :src="detail.picUrl" v-if="detail.picUrl">
							<p> {{ detail.name }} </p>
							<p v-for="list in detail.content">
								{{ list }}
							</p>
							<div class="wrap-tips">
								<span>
							{{ detail.publisher }}
						</span>
								<span>
							{{ detail.time }}
						</span>
							</div>
						</div>
					</div>
					<div class="wrap-enter">
						<el-button type="primary" @click="login()">登录</el-button>
						<el-button type="primary" @click="login()">注册</el-button>
					</div>
				</div>

				<!--<ul>
					<li v-for="(name, path) in tabList">
						<router-link :to="'/'+path"> {{ name }} </router-link>
					</li>
				</ul>-->
				<!--<router-view></router-view>-->
			</div>
		</div>
	</body>

</html>
<!-- common.js -->
<script src="../../js/common.js"></script>
<!-- 先引入 Vue -->
<script src="https://unpkg.com/vue/dist/vue.js"></script>
<!-- 先引入 router -->
<script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
<!-- 引入组件库 -->
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<!-- axios -->
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>
	const instro = {
		template: '<div>instro1111111111111111</div>'
	}
	const info = {
		template: '<div>info222222222222222</div>'
	}
	const message = {
		template: '<div>message333333333333333333</div>'
	}

	// 2. 定义路由
	// 每个路由应该映射一个组件。 其中"component" 可以是
	// 通过 Vue.extend() 创建的组件构造器，
	// 或者，只是一个组件配置对象。
	// 我们晚点再讨论嵌套路由。
	const routes = [{
			path: '/instro',
			component: instro
		},
		{
			path: '/info',
			component: info
		},
		{
			path: '/message',
			component: message
		}
	]

	// 3. 创建 router 实例，然后传 `routes` 配置
	// 你还可以传别的配置参数, 不过先这么简单着吧。
	const router = new VueRouter({
		routes // （缩写）相当于 routes: routes
	})
	new Vue({
		el: '#instro',
		data() {
			return {
				tabList: {
					'instro': '公司简介',
					'info': '行业资讯',
					'message': '公告通知'
				},
				activeName: 'instro',
				instro: {
					picUrl: '../../img/intro_banner.png',
					content: ['比特币交易网（BtcTrade.com）创办于2013年4月，是中国最早的比特币交易平台之一，现由北京币云科技有限公司负责主体运营。',
						'金融行业人员组成的专业队伍，为平台持续提供稳定、安全、便捷的服务保障。',
						'比特币交易网先后获得过港股上市公司神州数字（08255.HK）、亚杰商会（AAMA）、国富财智（GFCZ）等机构的战略投资。'
					]
				},
				detail: {
					show: false,
					title: '华尔街巨头试行DLT 用区块链智能合约管理股权互换交易',
					picUrl: '../../img/info_banner.png',
					content: ['比特币交易网（BtcTrade.com）创办于2013年4月，是中国最早的比特币交易平台之一，现由北京币云科技有限公司负责主体运营。',
						'金融行业人员组成的专业队伍，为平台持续提供稳定、安全、便捷的服务保障。',
						'比特币交易网先后获得过港股上市公司神州数字（08255.HK）、亚杰商会（AAMA）、国富财智（GFCZ）等机构的战略投资。'
					],
					name: '尊敬的比特币交易网用户：',
					time: '2017-10-13',
					publisher: '比特币交易网'
				},
				info: {
					content: [{
							id: '1',
							current_date: '2017-11-01',
							read_nums: {
								name: '阅读量：',
								value: '123546'
							},
							title: '华尔街巨头试行DLT 用区块链智能合约管理股权互换交易',
							sl_detail: '包括高盛（GoldmanSachs）和摩根大通（JPMorgan）在内的一些华尔街巨头已经完',
							all_list_detail: [
								'包括高盛（GoldmanSachs）和摩根大通（JPMorgan）在内的一些华尔街巨头已经完成了一项试点',
								'使用区块链智能合约来管理股权互换交易和交易后生命周期事件。',
								'包括高盛（GoldmanSachs）和摩根大通（JPMorgan）在内的一些华尔街巨头已经完成了一项试点',
								'使用区块链智能合约来管理股权互换交易和交易后生命周期事件。'
							]
						},
						{
							id: '2',
							current_date: '2017-11-02',
							read_nums: {
								name: '阅读量：',
								value: '123546'
							},
							title: '华尔街巨头试行DLT 用区块链智能合约管理股权互换交易',
							sl_detail: '包括高盛（GoldmanSachs）和摩根大通（JPMorgan）在内的一些华尔街巨头已经完',
							all_list_detail: [
								'包括高盛（GoldmanSachs）和摩根大通（JPMorgan）在内的一些华尔街巨头已经完成了一项试点',
								'使用区块链智能合约来管理股权互换交易和交易后生命周期事件。',
								'包括高盛（GoldmanSachs）和摩根大通（JPMorgan）在内的一些华尔街巨头已经完成了一项试点',
								'使用区块链智能合约来管理股权互换交易和交易后生命周期事件。'
							]
						},
						{
							id: '3',
							current_date: '2017-11-03',
							read_nums: {
								name: '阅读量：',
								value: '123546'
							},
							title: '华尔街巨头试行DLT 用区块链智能合约管理股权互换交易',
							sl_detail: '包括高盛（GoldmanSachs）和摩根大通（JPMorgan）在内的一些华尔街巨头已经完',
							all_list_detail: [
								'包括高盛（GoldmanSachs）和摩根大通（JPMorgan）在内的一些华尔街巨头已经完成了一项试点',
								'使用区块链智能合约来管理股权互换交易和交易后生命周期事件。',
								'包括高盛（GoldmanSachs）和摩根大通（JPMorgan）在内的一些华尔街巨头已经完成了一项试点',
								'使用区块链智能合约来管理股权互换交易和交易后生命周期事件。'
							]
						},
						{
							id: '4',
							current_date: '2017-11-04',
							read_nums: {
								name: '阅读量：',
								value: '123546'
							},
							title: '华尔街巨头试行DLT 用区块链智能合约管理股权互换交易',
							sl_detail: '包括高盛（GoldmanSachs）和摩根大通（JPMorgan）在内的一些华尔街巨头已经完',
							all_list_detail: [
								'包括高盛（GoldmanSachs）和摩根大通（JPMorgan）在内的一些华尔街巨头已经完成了一项试点',
								'使用区块链智能合约来管理股权互换交易和交易后生命周期事件。',
								'包括高盛（GoldmanSachs）和摩根大通（JPMorgan）在内的一些华尔街巨头已经完成了一项试点',
								'使用区块链智能合约来管理股权互换交易和交易后生命周期事件。'
							]
						}, {
							id: '5',
							current_date: '2017-11-05',
							read_nums: {
								name: '阅读量：',
								value: '123546'
							},
							title: '华尔街巨头试行DLT 用区块链智能合约管理股权互换交易',
							sl_detail: '包括高盛（GoldmanSachs）和摩根大通（JPMorgan）在内的一些华尔街巨头已经完',
							all_list_detail: [
								'包括高盛（GoldmanSachs）和摩根大通（JPMorgan）在内的一些华尔街巨头已经完成了一项试点',
								'使用区块链智能合约来管理股权互换交易和交易后生命周期事件。',
								'包括高盛（GoldmanSachs）和摩根大通（JPMorgan）在内的一些华尔街巨头已经完成了一项试点',
								'使用区块链智能合约来管理股权互换交易和交易后生命周期事件。'
							]
						},
						{
							id: '6',
							current_date: '2017-11-06',
							read_nums: {
								name: '阅读量：',
								value: '123546'
							},
							title: '华尔街巨头试行DLT 用区块链智能合约管理股权互换交易',
							sl_detail: '包括高盛（GoldmanSachs）和摩根大通（JPMorgan）在内的一些华尔街巨头已经完',
							all_list_detail: [
								'包括高盛（GoldmanSachs）和摩根大通（JPMorgan）在内的一些华尔街巨头已经完成了一项试点',
								'使用区块链智能合约来管理股权互换交易和交易后生命周期事件。',
								'包括高盛（GoldmanSachs）和摩根大通（JPMorgan）在内的一些华尔街巨头已经完成了一项试点',
								'使用区块链智能合约来管理股权互换交易和交易后生命周期事件。'
							]
						}
					]
				},
				message: {
					content: [{
							id: '1',
							current_date: '2017-11-01',
							read_nums: {
								name: '阅读量：',
								value: '123546'
							},
							title: '华尔街巨头试行DLT 用区块链智能合约管理股权互换交易',
							sl_detail: '包括高盛（GoldmanSachs）和摩根大通（JPMorgan）在内的一些华尔街巨头已经完',
							all_list_detail: [
								'包括高盛（GoldmanSachs）和摩根大通（JPMorgan）在内的一些华尔街巨头已经完成了一项试点',
								'使用区块链智能合约来管理股权互换交易和交易后生命周期事件。',
								'包括高盛（GoldmanSachs）和摩根大通（JPMorgan）在内的一些华尔街巨头已经完成了一项试点',
								'使用区块链智能合约来管理股权互换交易和交易后生命周期事件。'
							]
						},
						{
							id: '2',
							current_date: '2017-11-02',
							read_nums: {
								name: '阅读量：',
								value: '123546'
							},
							title: '华尔街巨头试行DLT 用区块链智能合约管理股权互换交易',
							sl_detail: '包括高盛（GoldmanSachs）和摩根大通（JPMorgan）在内的一些华尔街巨头已经完',
							all_list_detail: [
								'包括高盛（GoldmanSachs）和摩根大通（JPMorgan）在内的一些华尔街巨头已经完成了一项试点',
								'使用区块链智能合约来管理股权互换交易和交易后生命周期事件。',
								'包括高盛（GoldmanSachs）和摩根大通（JPMorgan）在内的一些华尔街巨头已经完成了一项试点',
								'使用区块链智能合约来管理股权互换交易和交易后生命周期事件。'
							]
						}
					]
				}
			}
		},
		watch: {
			'activeName' () {
				this.detail.show = false
			}
		},
		mounted: function() {
			console.log((document.body.clientHeight - 145) + 'px')
			document.getElementById('tabContent').style.height = (document.body.clientHeight - 170) + 'px'
		},
		methods: {
			handleClick(val) {
				console.log(val)
			},
			getDetail(id) {
				console.log(id)
				let requestUrl = common_url
				console.log(this.activeName)
				if(this.activeName === 'info') {
					requestUrl = requestUrl + '/info_detail.json'
				} else if(this.activeName === 'message') {
					requestUrl = requestUrl + '/message_detail.json'
				}
				const requestParams = {
					id: id
				}
				let result = ''
				const _this = this
				return axios.get(requestUrl, requestParams)
					.then(function(response) {
						result = response.data
						console.log(result)
						if(result.status === 0) {
							_this.detail = result.data.detail
						}
					})
					.catch(function(error) {
						console.log(error);
					});

			}
		},
		router
	})
</script>